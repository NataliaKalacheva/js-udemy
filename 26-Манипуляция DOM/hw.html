<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <article>
        <p>
          Lorem ipsum dolor sit amet, odio omnesque ius cu, quo ex atqui
          antiopam. At detracto menandri eos. Duo in causae viderer, graeci
          <a href="#">reprehendunt</a> has in. Decore
          <mark>nemore</mark> philosophia te pro, nobis legere causae ex mei,
          odio putant mentitum ea ius. Vix nostro deserunt explicari eu.
        </p>
      </article>
    </div>
    <ul>
      <li><a href="#">Link1</a></li>
      <li><a href="#">Link2</a></li>
      <li><a href="#">Link3</a></li>
      <li><a href="#">Link4</a></li>
    </ul>
    <span></span>
    <a href="#">Some link</a>
    <script type="text/javascript">
      // is parent
      
      // function isElement(element) {
      //    return element instanceof Element || element instanceof HTMLDocument;  
      //  }
     
      // function isParent(parent, child) {
      //   if (isElement(parent) && isElement(child)) {
      //      parent.contains(child) ? console.log('true') : console.log('false'); 
      //   } else {
      //     console.log('Error')
      //   }
      //  }

      // //1

      // // document.querySelector("p").innerText;

      // //2
      //   function getInfo(element) {
      //     let res = {};
      //     res.type = element.nodeType;
      //     res.name = element.nodeName;
      //     res.children = element.children.length;
      //     console.log(res);
      //   }

      //   getInfo(document.querySelector("span"));
      // //3
      // let links = document.querySelectorAll("li a");
      // let res = [];
      // //   for (let i = 0; i < links.length; i++) {
      // //     res.push(links[i].innerText);
      // //   }

      // //   или короче
      // links.forEach(link => res.push(link.innerText));

      // //4
      // let par = document.querySelector("p");
      // let elements = par.childNodes;

      // elements.forEach(item => {
      //   if (item.nodeType === 3) {
      //     item.textContent = "-text-";
      //   }
      // });

      // //5 Найти в коде список ul и добавить класс “list”
      // document.querySelector("ul").classList.add("list");

      // //6 Найти в коде ссылку, находящуюся после списка ul, и добавить id=link
      // document.querySelector("ul~a").id = "link";

      //7 На li через один (начиная с самого первого) установить класс “item”

      // let list = document.querySelectorAll("li");

      // for (var i = 0; i < list.length; i++) {
      //   if (i % 2 == 0) {
      //     list[i].classList.add("item");
      //   }
      // }

      //8 На все ссылки в примере установить класс “custom-link”
      // let allLinks = document.querySelectorAll("a");
      // allLinks.forEach(link => link.classList.add("custom-link"));

      //9 Не используя innerHTML, добавить в список несколько li с классом ‘new-item’ и текстом ‘item’ + номер li:
      // СПОСОБ 1
      let listItems = document.querySelector("ul");

      // function createMoreItems() {
      //   let newItem = document.createElement("li");
      //   console.log(listItems.children);
      //   newItem.textContent = "item " + (listItems.children.length + 1);

      //   listItems.appendChild(newItem);
      // }

      //СПОСОБ 2
      const count = 4;
      const totalCounts = listItems.children.length + count;

      for (let i = listItems.children.length; i < totalCounts; i++) {
        let newItem = document.createElement("li");
        newItem.classList.add('new-item');
        newItem.textContent = `item ${i + 1}`;
        listItems.appendChild(newItem);
      }
      // createMoreItems();
      // createMoreItems();
      // createMoreItems();
      // createMoreItems();

      //10 В каждую ссылку, которая находятся внутри списка ul  добавить по тегу strong (в каждую ссылку один - strong)

      let nodeLinks = document.querySelectorAll("ul a");

      nodeLinks.forEach(link =>
        link.appendChild(document.createElement("strong"))
      );

      //11 В начало документа (в начало body) добавить картинку img с атрибутами src и alt (текст придумайте сами). В src добавьте реальный url к картинке. Для создания элемента используйте метод createElement.

      let newImg = document.createElement("img");
      newImg.src = "https://images.unsplash.com/photo-1518640165980-d3e0e2aa6c1e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1567&q=80";
      newImg.alt = "dog";
      newImg.width = "500";
      document.body.prepend(newImg);

      //12 Найти на странице элемент mark, добавить в конец содержимого текст “green” и на элемент установить класс green

      let mark = document.querySelector("mark");
      mark.textContent += "green";
      mark.classList.add("green");

      //13 Отсортировать li внутри списка в обратном порядке (по тексту внутри)

      // let nodeList = document.querySelectorAll("li");
      // let result = [];
      // nodeList.forEach(item => {
      //   let obj = {};
      //   obj.item = item;
      //   obj.num = item.innerText.match(/\d+/g).toString();
      //   result.push(obj);
      // });

      // result.sort((prev, next) => next.num - prev.num);

      // for (let i = 0; i < nodeList.length; i++) {
      //   let swap = nodeList[i];
      //   document.querySelector("ul").removeChild(swap);
      //   document.querySelector("ul").appendChild(result[i].item);
      // }

      let list= [...document.querySelector('ul').children];
      let fragment = document.createDocumentFragment();
      
      list.reverse().forEach( li => fragment.appendChild(li));
      document.querySelector('ul').replaceWith(fragment);
    </script>
  </body>
</html>
